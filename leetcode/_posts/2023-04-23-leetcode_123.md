---
layout: single
title: "23.04.23 Today's Leetcode"
tags: leetcode
categories: leetcode
---

## 1416. Restore The Array (hard)

DP with memoization : TLE at 70/83

```python
class Solution:
    def numberOfArrays(self, s: str, k: int) -> int:

        n = len(s)
        dp = [0] * n
        MOD = 10**9 + 7 
        
        @lru_cache(None)
        def dfs(index=0):
            if index >= n:
                return 1
            if dp[index] > 0:
                return dp[index]
            temp = 0
            for i in range(index + 1, n + 1):
                num = int(s[index:i])
                if num == 0:
                    break
                if num >= 1 and num <= k:
                    temp += dfs(i)
            
            dp[index] = temp
            return temp
    
        return dfs(0) % MOD
```

DP with TOP-Down

```python
class Solution:
    def numberOfArrays(self, s: str, k: int) -> int:
        n = len(s)
        dp = [0] * (n + 1)
        dp[-1] = 1
        
        for i in range(n - 1, -1, -1):
            if s[i] == '0':
                continue
            num = 0
            j = i
            while j < n and int(s[i:j + 1]) <= k:
                num += dp[j + 1]
                j += 1
            dp[i] = num % (10 ** 9 + 7)
        
        return dp[0]
```
